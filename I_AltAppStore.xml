<?xml version="1.0"?>
<implementation>
  <functions>
  local update_plugin_run
  local update_plugin_job
  
  -- the L_AltAppStore.lua file is invoked as a separate module
  -- so that the implementation may be shared exactly with openLuup
  -- which uses it for its bootstrap loading of AltUI and AltAppStore!
  
  function I_init (devNo)
    local AltAppStore = require "L_AltAppStore"
    update_plugin_run = AltAppStore.update_plugin_run
    update_plugin_job = AltAppStore.update_plugin_job
    return AltAppStore.init(devNo)
  end
  </functions>
  <startup>I_init</startup>
  <actionList>
    <action>
  		<serviceId>urn:upnp-org:serviceId:AltAppStore1</serviceId>
  		<name>update_plugin</name>
  		<run>
  			-- lul_device, lul_settings
        return update_plugin_run (lul_settings)
  		</run>
  		<job>
  			return update_plugin_job (lul_settings)
  		</job>
    </action>
    <action>
  		<serviceId>urn:schemas-upnp-org:serviceId:AltAppStore1</serviceId>
  		<name>update_plugin</name>
  		<run>
  			-- lul_device, lul_settings
        return update_plugin_run (lul_settings)
  		</run>
  		<job>
  			return update_plugin_job (lul_settings)
  		</job>
    </action>
  </actionList>
</implementation>
